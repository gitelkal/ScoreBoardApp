
<h1 id="HandleTeamsAdmin">Hantera lag</h1>
<div class="head">

  <!-- ðŸ”¹ Skapa nytt lag -->
  <div>
    <form>
      <h2>Skapa ett nytt lag</h2>

      <label for="name">Lagnamn:</label>
      <input
        type="text"
        id="editName"
        name="editTeamName"
        [(ngModel)]="selectedTeam.teamName"
        placeholder="LÃ¤gg till lagnamn"
      />

      <button
        type="button"
        (click)="createTeam()"
      >
        Skapa lag
      </button>
    </form>
  </div>

  <!-- ðŸ”¹ Hantera befintliga lag -->
  <div class="">
    <form
      (ngSubmit)="updateTeam()"
      #editForm="ngForm"
      class="border"
    >
      <h2> Hantera lag</h2>
      <label for="editname">Lagnamn:</label>

      <!-- ðŸ”¹ Dropdown och sÃ¶k -->
      <div class="relative w-full">
        <input
          type="text"
          name="editname"
          [ngModelOptions]="{ standalone: true }"
          [(ngModel)]="searchManageQuery"
          (input)="filterManageTeams()"
          (focus)="showDropdown = true"
          placeholder="SÃ¶k lag att hantera..."
          class="border md:p-2 rounded md:w-full text-black"
        />
      
        <ul
          *ngIf="showDropdown && filteredTeams.length > 0"
          class="absolute top-full left-0 z-50 bg-white border rounded shadow-md md:max-h-40 overflow-y-auto w-full"
         #dropdown 
        >
          <li
            *ngFor="let team of filteredTeams"
            (click)="selectTeam(team)"
            class="md:p-2 hover:bg-gray-200 cursor-pointer"
          >
            {{ team.teamName }}
          </li>
        </ul>
      </div>
      

      <!-- ðŸ”¹ Ã„ndra lag -->
      <div class="" *ngIf="selectedTeam.teamID">

        <label class="">Nytt namn:</label>
        <input
          type="text"
          name="editTeamName"
          [(ngModel)]="selectedTeam.teamName"
          class=""
        />
      </div>

      <div class="flex justify-between">
        <button
          type="submit"
          class=" transition  "
        >
          Uppdatera lag
        </button>
        <button
          type="button"
          (click)="deleteTeam()"
          class="  "
        >
          Ta bort lag
        </button>
      </div>
    </form>
  </div>
</div>








<div class="flex-col justify-between items-center w-full mt-40  text-3xl">
  <!-- SÃ¶k efter Team -->
  <h1 id="searchTeamsAdmin">SÃ¶k efter Teams</h1>
  <input
    type="text"
    [(ngModel)]="searchListQuery"
    (input)="filterTeamList()"
    placeholder="SÃ¶k efter team..."
    class="border p-2 rounded w-1/6 pt-4 h-1/2 max-w-md mb-4 text-center bg-white text-black"
  />

  <!-- Sorteringsdropdown -->
  <select
    [(ngModel)]="sortBy"
    class="flex appearance-auto w-full max-w-md mb-4 bg-red-900 border border-black font-semibold py-2 px-4 pb-3 text-center text-white hover:bg-red-800 transition"
  >
    <option value="name" class="">Sortera efter namn</option>
    <option value="date" class="">Sortera efter senast aktiv</option>
  </select>

  <ul
    *ngIf="sortedTeams.length > 0; else noResults"
    class="max-w-sm divide-y divide-gray-200 dark:divide-gray-700"
  >
    <li
      *ngFor="let team of sortedTeams"
      class="bg-white border-box rounded-md flex justify-center mt-4 p-4 shadow-md hover:bg-blue-100 hover:shadow-lg transition-all cursor-pointer text-center py-3 sm:py-4"
    >
      <div class="flex items-center space-x-3 rtl:space-x-reverse">
        <div class="shrink-0">
          <img
            class="w-8 h-8 rounded-full"
            src="https://www.trafikverket.se/contentassets/d8ca1da136844608a07a850a75a7168b/trafikverket-logo.svg"
            alt="Neil image"
          />
        </div>
        <div class="flex flex-col items-start ">
          <strong class="text-lg">{{ team.teamName }}</strong>
        </div>
      </div>
    </li>
  </ul>
  <ng-template #noResults>
    <p class="text-gray-500">Inga lag hittades.</p>
  </ng-template>
</div>
